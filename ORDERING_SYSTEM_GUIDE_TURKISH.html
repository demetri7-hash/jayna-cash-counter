<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sipariş Sistemi - Personel Rehberi</title>
  <style>
    @page {
      margin: 0.4in;
      size: letter;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      font-size: 9pt;
      line-height: 1.3;
      color: #212121;
      max-width: 100%;
    }

    h1 {
      color: #2196F3;
      font-size: 18pt;
      margin-bottom: 8px;
      border-bottom: 2px solid #2196F3;
      padding-bottom: 4px;
    }

    h2 {
      color: #212121;
      font-size: 12pt;
      margin-top: 12px;
      margin-bottom: 6px;
      background: #f5f5f5;
      padding: 4px 8px;
      border-left: 3px solid #2196F3;
    }

    h3 {
      color: #424242;
      font-size: 10pt;
      margin-top: 8px;
      margin-bottom: 4px;
      font-weight: 600;
    }

    p {
      margin-bottom: 6px;
      text-align: justify;
    }

    ul, ol {
      margin-left: 18px;
      margin-bottom: 8px;
    }

    li {
      margin-bottom: 3px;
    }

    .box {
      background: #f9f9f9;
      border: 1px solid #e0e0e0;
      padding: 8px;
      margin: 8px 0;
      border-radius: 3px;
    }

    .highlight {
      background: #fff3cd;
      padding: 8px;
      border-left: 3px solid #ffc107;
      margin: 8px 0;
      font-size: 9pt;
    }

    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin: 8px 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 8px 0;
      font-size: 8pt;
    }

    th, td {
      border: 1px solid #e0e0e0;
      padding: 4px 6px;
      text-align: left;
    }

    th {
      background: #f5f5f5;
      font-weight: 600;
    }

    .step {
      background: #e3f2fd;
      padding: 6px 10px;
      margin: 4px 0;
      border-left: 3px solid #2196F3;
      font-size: 9pt;
    }

    strong {
      color: #212121;
      font-weight: 600;
    }

    .workflow-box {
      background: #f0f4f8;
      border: 2px solid #2196F3;
      padding: 10px;
      margin: 10px 0;
    }

    @media print {
      body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
    }
  </style>
</head>
<body>

<h1>📦 Sipariş Sistemi - Kapsamlı Personel Rehberi</h1>

<div class="highlight">
<strong>Bu Nedir?</strong> Telefon kameranızla tedarikçi faturalarını okuyan, ürünleri envanterinizle otomatik eşleştiren, düzeltmelerinizden öğrenen ve tüketim desenlerine dayalı akıllı hazırlık önerileri oluşturan yapay zeka destekli bir sistem.
</div>

<h2>🎯 Sistem Genel Bakış: Üç Sekme</h2>

<p>Sipariş Sistemi'nin çalışacağınız üç ana sekmesi vardır:</p>

<table>
  <tr>
    <th>Sekme</th>
    <th>Amaç</th>
    <th>Ne Zaman Kullanılır</th>
  </tr>
  <tr>
    <td><strong>STOK</strong></td>
    <td>Mevcut seviyelerle tüm envanter öğelerini görüntüle</td>
    <td>Stok durumunu kontrol et, neyin düşük/iyi olduğunu gör</td>
  </tr>
  <tr>
    <td><strong>SİPARİŞLER</strong></td>
    <td>Fatura yükle + Yapay zeka eşleştirme</td>
    <td>Teslimatları kabul ederken VEYA sipariş verirken</td>
  </tr>
  <tr>
    <td><strong>HAZIRLIK</strong></td>
    <td>Akıllı hazırlık önerileri</td>
    <td>Bugün/bu hafta ne yapılacağını planlarken</td>
  </tr>
</table>

<h2>📋 Sekme 1: STOK - Envanter Görünümü</h2>

<p>Bu sekme envanterinizin tamamını bir bakışta gösterir:</p>

<h3>Ne Görürsünüz:</h3>
<ul>
  <li><strong>Ürün Adı:</strong> Ürünün ne olduğu (örn. "SALATA KARIŞ", "HUMUS")</li>
  <li><strong>Mevcut Stok:</strong> Şu anda ne kadar var (örn. "4 CAMBRO")</li>
  <li><strong>Par Seviyesi:</strong> Tutmanız gereken minimum miktar (örn. "8 CAMBRO")</li>
  <li><strong>Durum Rozeti:</strong> Renk kodlu durum (DÜŞÜK = kırmızı, ORTA = turuncu, İYİ = yeşil)</li>
  <li><strong>Son Sayım:</strong> Son envanter sayımından bu yana geçen süre (örn. "2s önce", "1g önce")</li>
</ul>

<h3>Durum Anlamları:</h3>
<div class="box">
<strong>DÜŞÜK (Kırmızı):</strong> Stok par'ın %30'unun altında → Hemen sipariş ver<br>
<strong>ORTA (Turuncu):</strong> Stok par'ın %30-70'i → Yakında sipariş ver<br>
<strong>İYİ (Yeşil):</strong> Stok par'ın %70'inin üzerinde → Yeterli stok
</div>

<p><strong>Pro İpucu:</strong> Sipariş vermeden önce hızlı görsel kontrol için bu sekmeyi kullanın. Çok fazla kırmızı/turuncu görürseniz, sipariş vermeniz gerekir.</p>

<h2>📸 Sekme 2: SİPARİŞLER - Yapay Zeka Fatura İşleme</h2>

<p>Sihir burada gerçekleşir. Sistem faturaları okumak ve ürünleri otomatik olarak eşleştirmek için yapay zeka kullanır.</p>

<h3>Tam İş Akışı (Adım Adım):</h3>

<div class="step"><strong>ADIM 1: MOD SEÇ</strong><br>
Üstte, ne yaptığınızı seçin:
<ul style="margin-top: 4px;">
  <li><strong>FATURA MUTABAKATLA:</strong> Teslimat aldınız, ürünleri kontrol ediyorsunuz</li>
  <li><strong>SİPARİŞ VER:</strong> Tedarikçiye göndermek için sipariş oluşturuyorsunuz</li>
</ul>
</div>

<div class="step"><strong>ADIM 2: GÖRSEL YÜKLE</strong><br>
İki seçenek:
<ul style="margin-top: 4px;">
  <li><strong>FOTOĞRAF ÇEK:</strong> Hızlı fotoğraf için telefon/tablet kamerasını kullan</li>
  <li><strong>YÜKLE:</strong> Cihazdan mevcut görseli seç</li>
</ul>
<em>İpucu: Faturanın düz, iyi aydınlatılmış ve metnin net olduğundan emin olun</em>
</div>

<div class="step"><strong>ADIM 3: ÖNIZLE VE TARA</strong><br>
Yüklemeden sonra, görsel önizlemesini göreceksiniz. <strong>"TARA VE ÇIKART"</strong> düğmesine tıklayın.<br>
<em>Sistem görüntüden tüm metni okumak için Tesseract OCR kullanır (5-15 saniye sürer)</em>
</div>

<div class="step"><strong>ADIM 4: ÇIKARILMIŞ ÖĞELERİ İNCELE</strong><br>
Sistem satır öğelerini bulur ve bunları envanterinizle eşleştirmeye çalışır. Her öğe şunları gösterir:
<ul style="margin-top: 4px;">
  <li><strong>Algılanan Ad:</strong> Faturadan okunan</li>
  <li><strong>Miktar:</strong> Bulunan miktar (örn. "MİKTAR: 2")</li>
  <li><strong>Eşleşme Durumu:</strong> Eşleşmişse güven % (daha koyu = daha iyi eşleşme)</li>
  <li><strong>Fiyat:</strong> Faturadan algılandıysa</li>
</ul>
</div>

<div class="step"><strong>ADIM 5: HER ÖĞEYİ İŞLE</strong><br>
Çıkarılan her öğe için seçenekleriniz var:
<ul style="margin-top: 4px;">
  <li><strong>Eşleşmeyi Kabul Et:</strong> Güven yüksekse (70%+), öğe otomatik eşleştirilir</li>
  <li><strong>EŞLEŞTIR Düğmesi:</strong> Güven düşükse, manuel eşleştirmek için tıklayın</li>
  <li><strong>YENİ EKLE Düğmesi:</strong> Öğe henüz envanterde yoksa</li>
  <li><strong>ATLA Düğmesi:</strong> Öğe alakalı değilse (örn. teslimat ücreti, vergi)</li>
</ul>
</div>

<div class="step"><strong>ADIM 6: SONLANDIRIN</strong><br>
Tüm öğeler eşleştirildiğinde/atlandığında, son düğmeye tıklayın:
<ul style="margin-top: 4px;">
  <li><strong>"TÜM ÖĞELERİ KONTROL ET":</strong> Mutabakat modu için (stoğu günceller)</li>
  <li><strong>"SİPARİŞİ KAYDET":</strong> Sipariş modu için (bekleyen siparişi kaydeder)</li>
</ul>
</div>

<h3>🧠 Yapay Zeka Eşleştirmesi Nasıl Çalışır:</h3>

<div class="workflow-box">
<strong>Öğrenme Sistemi (Zamanla Akıllanır):</strong>

<p style="margin-top: 8px;"><strong>Bir Fatura Öğesini İlk Gördüğünüzde:</strong></p>
<ol style="font-size: 8pt; margin-left: 16px;">
  <li>Sistem okur: "Organik Roka 5# Kasa"</li>
  <li>Yapay zeka envantere karşı bulanık eşleştirme dener (kelime kelime karşılaştırma)</li>
  <li>En iyi tahmin: "ROKA" envanter öğesi (%68 güven)</li>
  <li>Düşük güven olarak gösterir → onaylamak veya düzeltmek için EŞLEŞTIR'e tıklarsınız</li>
  <li>Listeden doğru öğeyi seçersiniz → <strong>Sistem bunu "öğrenilmiş takma ad" olarak kaydeder</strong></li>
</ol>

<p style="margin-top: 8px;"><strong>Aynı Fatura Öğesini İkinci Gördüğünüzde:</strong></p>
<ol style="font-size: 8pt; margin-left: 16px;">
  <li>Sistem okur: "Organik Roka 5# Kasa"</li>
  <li>Önce öğrenilmiş takma adları kontrol eder → ✅ Bulundu! "ROKA" ile eşleşti</li>
  <li>%100 güven gösterir (öğrenilmiş eşleşme)</li>
  <li>Manuel çalışma gerekmiyor → otomatik kabul edildi</li>
</ol>

<p style="margin-top: 8px;"><strong>Sonuç:</strong> İlk fatura öğeleri eşleştirmek 5 dakika sürer. Gelecek hafta aynı fatura 30 saniye sürer.</p>
</div>

<h3>Güven Rozeti Renkleri:</h3>
<table>
  <tr>
    <th>Güven</th>
    <th>Rozet Rengi</th>
    <th>Anlam</th>
    <th>Gerekli Aksiyon</th>
  </tr>
  <tr>
    <td>%100</td>
    <td>Koyu gri/siyah</td>
    <td>Öğrenilmiş takma ad eşleşmesi</td>
    <td>Yok - otomatik kabul edildi</td>
  </tr>
  <tr>
    <td>%70-99</td>
    <td>Koyu gri</td>
    <td>Güçlü bulanık eşleşme</td>
    <td>Gerekirse doğrula</td>
  </tr>
  <tr>
    <td>%50-69</td>
    <td>Orta gri</td>
    <td>Zayıf eşleşme</td>
    <td>Onaylamak için EŞLEŞTIR'e tıkla</td>
  </tr>
  <tr>
    <td>%0-49</td>
    <td>Açık gri</td>
    <td>İyi eşleşme bulunamadı</td>
    <td>EŞLEŞTIR veya YENİ EKLE'ye tıkla</td>
  </tr>
</table>

<h3>Manuel Eşleştirme Süreci:</h3>
<p>Bir öğede <strong>EŞLEŞTIR</strong> düğmesine tıkladığınızda:</p>

<ol>
  <li>Algılanan öğe adını gösteren modal açılır</li>
  <li>Envanter öğelerini filtrelemek için arama kutusu</li>
  <li>Birimlerle tüm envanter öğelerinin listesi</li>
  <li>Doğru öğeye tıklayın → Eşleşme kaydedildi</li>
  <li>Öğe güveni %100 olur (öğrenildi)</li>
  <li>Modal kapanır, öğe eşleştirilmiş durumu gösterir</li>
</ol>

<div class="box">
<strong>Alternatif: YENİ OLUŞTUR</strong><br>
Fatura öğesi envanterde yoksa, <strong>YENİ OLUŞTUR</strong>'a tıklayın:
<ul style="margin-top: 4px; font-size: 8pt;">
  <li>Öğe adını girin (algılanan ada varsayılan)</li>
  <li>Listeden tedarikçi seçin</li>
  <li>Birim girin (CS, EA, LB, vb.)</li>
  <li>Par seviyesi ayarlayın (veya daha sonra ayarlamak için 0)</li>
  <li>HAZIRLIK öğesi olup olmadığını seçin</li>
  <li>Envanterde yeni öğe oluşturuldu + eşleştirildi</li>
</ul>
</div>

<h2>🔪 Sekme 3: HAZIRLIK - Akıllı Öneriler</h2>

<p>Bu sekme özellikle <strong>HAZIRLIK öğelerine</strong> odaklanır (salatalar, humus, soslar vb. gibi evde yaptığınız öğeler)</p>

<h3>Ne Görürsünüz:</h3>
<ul>
  <li><strong>Sayım Oturumu Bilgisi:</strong> Mevcut aktif sayım oturumu (varsa)</li>
  <li><strong>Öncelik Grupları:</strong> Aciliyete göre gruplandırılmış öğeler (ACİL → YÜKSEK → ORTA → DÜŞÜK)</li>
  <li><strong>Her Öğe İçin:</strong> Mevcut stok, par seviyesi, önerilen miktar, gerekçe</li>
</ul>

<h3>Öneriler Nasıl Çalışır:</h3>

<div class="workflow-box">
<strong>Veri Kaynakları:</strong>
<ol style="font-size: 8pt; margin-left: 16px; margin-top: 6px;">
  <li><strong>Mevcut Stok:</strong> Son sayımınızdan</li>
  <li><strong>Par Seviyesi:</strong> Hedef minimumunuz</li>
  <li><strong>Son 7 Gün Tüketimi:</strong> Sayım oturumu başına ne kadar kullanıldı</li>
  <li><strong>Son Sayımdan Bu Yana Zaman:</strong> Saat/gün önce</li>
</ol>

<strong style="display: block; margin-top: 10px;">Öneri Mantığı:</strong>
<ul style="font-size: 8pt; margin-left: 16px; margin-top: 4px;">
  <li>STOKTA YOKSA (0): En az par seviyesi VEYA 2x ortalama tüketim önerin</li>
  <li>DÜŞÜKSE (&lt;par'ın %50'si): Par seviyesine ulaşmak için yeterli önerin</li>
  <li>ORTAYSA (par'ın %50-75'i): 1.5x ortalama tüketim oranı önerin</li>
  <li>İYİYSE (par'ın %75-100'ü): Acil aksiyon yok, belki küçük hazırlık</li>
</ul>
</div>

<h3>Öncelik Atama Kuralları:</h3>

<table>
  <tr>
    <th>Öncelik</th>
    <th>Tetikleyici Koşullar</th>
    <th>Örnek Gerekçe</th>
  </tr>
  <tr>
    <td><strong>ACİL</strong></td>
    <td>Stok = 0 VEYA Stok &lt; par'ın %50'si</td>
    <td>"Stokta yok - hemen yap"<br>"Stok %50'nin altında (%28)"</td>
  </tr>
  <tr>
    <td><strong>YÜKSEK</strong></td>
    <td>Stok par'ın %50-75'i</td>
    <td>"Stok %62, oturum başına 3.2 tüketiliyor"</td>
  </tr>
  <tr>
    <td><strong>ORTA</strong></td>
    <td>Stok %75-100 + aktif tüketim</td>
    <td>"Stok %83, oturum başına 1.8 tüketiliyor"</td>
  </tr>
  <tr>
    <td><strong>DÜŞÜK</strong></td>
    <td>Stok &gt;par'ın %100'ü VEYA yavaş tüketim</td>
    <td>"Stok iyi (%115)"</td>
  </tr>
</table>

<h3>Tüketim Takibi (Nasıl Öğrenir):</h3>

<div class="box">
<strong>Her sayım oturumunu tamamladığınızda:</strong><br>
Sistem mevcut stoğu önceki sayımla karşılaştırır → tüketimi hesaplar:

<p style="margin-top: 6px; font-size: 8pt;"><strong>Pazartesi Sabah Sayımı:</strong> 10 CAMBRO salata karışımı<br>
<strong>Salı Sabah Sayımı:</strong> 6 CAMBRO salata karışımı<br>
<strong>→ Sistem öğrenir:</strong> Bir günde 4 CAMBRO tüketildi</p>

<p style="margin-top: 6px; font-size: 8pt;">5-7 sayımdan sonra, sistem ortalama tüketim oranını hesaplar:<br>
<strong>Ortalama:</strong> Günde 3.5 CAMBRO</p>

<p style="margin-top: 6px; font-size: 8pt;"><strong>Akıllı Öneri:</strong><br>
Mevcut stok = 2 CAMBRO ve par = 8 CAMBRO ise:<br>
Temel matematik: 8 - 2 = 6 CAMBRO gerekli<br>
<strong>Ancak yapay zeka şunu düşünür:</strong> "Günde 3.5 kullanıyorsunuz ve bugün Perşembe (yoğun hafta sonu geliyor)"<br>
<strong>→ Önerir:</strong> 8-10 CAMBRO (par'a ulaşmak + yoğun dönem için tampon)</p>
</div>

<h3>Hazırlık Sekmesini Etkili Kullanma:</h3>

<ol>
  <li><strong>Günlük Kontrol:</strong> Her sabah HAZIRLIK sekmesini açın</li>
  <li><strong>ACİL'e Odaklanın:</strong> Bu öğeleri önce yapın</li>
  <li><strong>YÜKSEK'i Planlayın:</strong> Bunları bugün/yarın için planlayın</li>
  <li><strong>ORTA'yı Not Edin:</strong> Zihinsel hazırlık listenize ekleyin</li>
  <li><strong>DÜŞÜK'ü Görmezden Gelin:</strong> Bunlar iyi, önceliklere odaklanın</li>
  <li><strong>Önerilere Güvenin:</strong> 2-3 hafta sonra, yapay zeka desenlerinizi bilir</li>
</ol>

<h2>💡 Optimal Sonuçlar İçin En İyi Uygulamalar</h2>

<h3>Fatura Tarama İçin (SİPARİŞLER Sekmesi):</h3>
<div class="two-column">
  <div>
    <h4>✅ YAPIN:</h4>
    <ul style="font-size: 8pt;">
      <li>Net, düz fotoğraflar çekin</li>
      <li>İyi aydınlatma (gölge yok)</li>
      <li>İlk seferde düşük güvenli eşleşmeleri düzeltin</li>
      <li>İlgisiz öğeleri atlayın (ücretler, notlar)</li>
      <li>Tedarikçilerden aynı fatura formatını kullanın</li>
    </ul>
  </div>
  <div>
    <h4>❌ YAPMAYIN:</h4>
    <ul style="font-size: 8pt;">
      <li>Buruşuk/ıslak faturaları fotoğraflayın</li>
      <li>El yazısı notları tarayın</li>
      <li>Açıkça yanlış eşleşmeleri kabul edin</li>
      <li>Yinelenen envanter öğeleri oluşturun</li>
      <li>Öğrenme sürecini atlayın</li>
    </ul>
  </div>
</div>

<h3>Hazırlık Önerileri İçin (HAZIRLIK Sekmesi):</h3>
<div class="two-column">
  <div>
    <h4>✅ YAPIN:</h4>
    <ul style="font-size: 8pt;">
      <li>Tutarlı sayın (her gün aynı saatte)</li>
      <li>Tam sayım oturumlarını tamamlayın</li>
      <li>2-3 hafta sonra önerilere güvenin</li>
      <li>Par seviyelerini mevsimsel güncelleyin</li>
      <li>İşe başlamadan önce hazırlık sekmesini kontrol edin</li>
    </ul>
  </div>
  <div>
    <h4>❌ YAPMAYIN:</h4>
    <ul style="font-size: 8pt;">
      <li>Sayım oturumlarını atlamayın</li>
      <li>Stok sayılarını tahmin etmeyin</li>
      <li>ACİL öğeleri görmezden gelmeyin</li>
      <li>DÜŞÜK öncelikli öğeleri fazla hazırlamayın</li>
      <li>Hazırlıktan sonra sayımları güncellemeyi unutmayın</li>
    </ul>
  </div>
</div>

<h2>❓ Sık Sorulan Sorular</h2>

<h3>S: Sistem neden "Organik Roka 5# CS"yi "MARUL" ile eşleştirdi?</h3>
<p><strong>C:</strong> İlk kez bulanık eşleştirme mükemmel değildir. EŞLEŞTIR'e tıklayın, doğru öğeyi seçin (ROKA) ve sistem sonsuza kadar hatırlayacaktır. Bir sonraki sefer = %100 doğru.</p>

<h3>S: Fatura düşük kaliteli metne sahipse ne olur?</h3>
<p><strong>C:</strong> OCR öğeleri kaçırabilir veya yanlış okuyabilir. "YENİ EKLE"yi kullanarak eksik öğeleri manuel olarak ekleyin veya daha iyi aydınlatma ile fotoğrafı yeniden çekin.</p>

<h3>S: Hazırlık önerileri ne kadar sürede doğru olur?</h3>
<p><strong>C:</strong> Temel doğruluk: 3-5 sayım oturumu. Tam desen tanıma: 2-3 haftalık tutarlı sayım.</p>

<h3>S: Hazırlamadan önce bir öneriyi düzenleyebilir miyim?</h3>
<p><strong>C:</strong> Hazırlık sekmesi salt okunurdur (önerileri gösterir). Hazırlığı yapın, ardından yeni stoğu yansıtmak için sayımınızı güncelleyin. Sistem gerçek davranışınızdan öğrenir.</p>

<h3>S: Bir gün saymayı atlarsam ne olur?</h3>
<p><strong>C:</strong> O dönem için tüketim hesaplaması yanlış olacaktır, ancak sistem uyum sağlar. En iyi sonuçlar için günlük saymaya çalışın.</p>

<h3>S: Bir faturadaki HER öğeyi eşleştirmem gerekiyor mu?</h3>
<p><strong>C:</strong> Hayır. Envanter olmayan öğeleri atlayın (teslimat ücretleri, vergi, promosyon metni). Gerçek ürünlere odaklanın.</p>

<h3>S: Birden fazla kişi sipariş sistemini kullanabilir mi?</h3>
<p><strong>C:</strong> Evet! Tüm öğrenilmiş eşleşmeler veritabanına kaydedilir ve herkes tarafından kullanılabilir. Ne kadar çok kullanırsanız, tüm ekip için o kadar akıllı olur.</p>

<div class="highlight" style="margin-top: 12px;">
<strong>🎓 Unutmayın:</strong> Bu sistem OCR (faturaları okur), yapay zeka (öğeleri eşleştirir) ve makine öğrenimi (düzeltmeleri + tüketim desenlerini hatırlar) birleştirir. İlk hafta eğitim zamanı gerektirir (eşleşmeleri düzeltme, tutarlı sayım). Bundan sonra, manuel çalışmadan daha hızlı olur ve insanların kaçırdığı desenleri yakalar. Sürece güvenin ve tutarlı kalın!
</div>

</body>
</html>
