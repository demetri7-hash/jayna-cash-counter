{
  "conversations": [
    {
      "date": "2025-10-27T20:00:00Z",
      "summary": "CRITICAL FAILURE: Broke index.html by removing 196 lines without permission. User extremely upset. Reverted 9 commits to restore working state.",
      "key_decisions": [
        "NEVER touch index.html without explicit permission",
        "Index.html has intentional 'duplicate' code for dynamic show/hide patterns",
        "Always copy existing patterns, never reinvent or 'improve' working code",
        "User warnings (I'm afraid...) are SACRED - stop and ask permission",
        "Production code is NOT for experimenting - only copy working patterns"
      ],
      "action_items": [
        "Read CRITICAL RULE #3 in CLAUDE.md before EVERY session",
        "Always ask user before modifying index.html",
        "Use memory system to preserve learnings across sessions",
        "Re-implement driver flag system step-by-step when user is ready"
      ],
      "topics": ["Critical Failure", "Production Incident", "Index.html", "Trust Breaking", "Learning"],
      "important_details": [
        "Mistake 1: Removed 196 lines thinking they were duplicate (they weren't)",
        "Mistake 2: Added shared-header.js causing duplicate variable errors",
        "Mistake 3: Broke Supabase initialization (DATABASE NOT CONNECTED)",
        "Mistake 4: Ignored user's explicit warning about being afraid of index.html changes",
        "Mistake 5: Experimented instead of following working patterns",
        "Recovery: Reverted to commit 070a362, saved driver files for future",
        "Key learning: 'Duplicate' code often serves a purpose - NEVER remove without understanding",
        "Trust damaged - must rebuild by asking permission before touching core files",
        "Documented full post-mortem in CLAUDE.md as CRITICAL RULE #3"
      ]
    },
    {
      "date": "2025-10-27T00:00:00Z",
      "summary": "Created staff notification for new paid break policy requiring Toast POS clock-out. Documented Homebase messaging format preferences.",
      "key_decisions": [
        "Break policy effective immediately with 7-day grace period",
        "Staff must clock 'PAID BREAK' (not unpaid) in Toast POS for 10-minute breaks",
        "Require emoji confirmation from all staff",
        "Established Homebase format: no # headers, use **bold**, 3 languages (EN/TR/ES)",
        "Language separator: --- (no language labels)"
      ],
      "action_items": [
        "Monitor Toast POS logs daily for break compliance",
        "Collect emoji confirmations from all staff within 7 days",
        "Help staff remember and remind each other"
      ],
      "topics": ["Staff Policy", "Toast POS", "Compliance", "Homebase Communication", "Multilingual Messaging"],
      "important_details": [
        "Policy reason: Legal compliance, liability protection, ensure all staff get breaks",
        "Homebase messaging format rules stored in memory/preferences/communication_style.json",
        "Format: Concise, step-by-step, explains 'why', clear timeline, emoji confirmation",
        "Languages: English first, Turkish second, Mexican Spanish last",
        "Homebase renders **bold** automatically but not markdown headers"
      ]
    },
    {
      "date": "2025-10-19T08:00:00Z",
      "summary": "Added AM Cash Count Viewer to FOH WATCHDOG tab with password protection. User can now view AM count data at any time of day.",
      "key_decisions": [
        "Placed AM CASH tab between HISTORY and PASSWORDS in WATCHDOG",
        "Reused existing WATCHDOG password protection",
        "Displayed full drawer breakdown with denomination details",
        "Used same format as PM flow AM summary"
      ],
      "action_items": [],
      "topics": ["FOH Checklists", "Cash Counting", "Manager Tools", "Supabase Integration"],
      "important_details": [
        "Function: loadAMCashData(date) - fetches and displays AM count",
        "Queries cash_counts table from Supabase",
        "Shows counter name, timestamp, total, drawer details, notes",
        "Handles skipped drawers gracefully",
        "Committed: 2d9ecb4 - feat(foh): Add AM cash count viewer to WATCHDOG tab"
      ]
    }
  ],
  "max_entries": 50
}
