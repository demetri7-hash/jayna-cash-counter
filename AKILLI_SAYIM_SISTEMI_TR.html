<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akıllı Sayım ve Hazırlık Sistemi - Jayna Organic Eatery</title>
    <style>
        @page {
            margin: 0.75in;
            size: letter;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #212121;
            background: white;
            padding: 20px;
            max-width: 8.5in;
            margin: 0 auto;
        }
        
        h1 {
            color: #2196F3;
            font-size: 32pt;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #2196F3;
            page-break-after: avoid;
        }
        
        h2 {
            color: #212121;
            font-size: 20pt;
            font-weight: 700;
            margin-top: 30px;
            margin-bottom: 15px;
            padding: 10px 0;
            border-bottom: 2px solid #424242;
            page-break-after: avoid;
        }
        
        h3 {
            color: #424242;
            font-size: 14pt;
            font-weight: 700;
            margin-top: 20px;
            margin-bottom: 10px;
            page-break-after: avoid;
        }
        
        p {
            margin-bottom: 10px;
            font-size: 11pt;
        }
        
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
            color: #d32f2f;
        }
        
        pre {
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            border-radius: 0;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            page-break-inside: avoid;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: #212121;
            font-size: 9pt;
            line-height: 1.4;
        }
        
        ul, ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 5px;
            font-size: 11pt;
        }
        
        strong {
            font-weight: 700;
            color: #212121;
        }
        
        hr {
            border: none;
            border-top: 1px solid #e0e0e0;
            margin: 25px 0;
        }
        
        .meta-info {
            background: #f5f5f5;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin-bottom: 30px;
            font-size: 10pt;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            text-align: center;
            font-size: 9pt;
            color: #666;
        }
        
        @media print {
            body {
                padding: 0;
            }
            
            h1 {
                font-size: 24pt;
            }
            
            h2 {
                font-size: 16pt;
                page-break-before: auto;
            }
            
            h3 {
                font-size: 12pt;
            }
            
            p, li {
                font-size: 10pt;
            }
            
            pre code {
                font-size: 8pt;
            }
            
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body>
    <h1>AKILLI SAYIM VE HAZIRLIK SİSTEMİ</h1></p><p><strong>Oluşturulma Tarihi:</strong> 11 Ekim 2025
<strong>Sistem Versiyonu:</strong> v6.1+
<strong>Dil:</strong> Türkçe</p><p><hr></p><p><h2>📋 İÇİNDEKİLER</h2></p><p><li>[Sistem Genel Bakış](#sistem-genel-bakış)</li>
<li>[Nasıl Çalışır?](#nasıl-çalışır)</li>
<li>[Akıllı Öğrenme Sistemi](#akıllı-öğrenme-sistemi)</li>
<li>[Günlük Sayım Oturumları](#günlük-sayım-oturumları)</li>
<li>[Tüketim Takibi](#tüketim-takibi)</li>
<li>[Sipariş Önerileri Mantığı](#sipariş-önerileri-mantığı)</li>
<li>[Fatura OCR Öğrenme Sistemi](#fatura-ocr-öğrenme-sistemi)</li>
<li>[Öncelik Seviyeleri](#öncelik-seviyeleri)</li></p><p><hr></p><p><h2>SISTEM GENEL BAKIŞ</h2></p><p>Jayna Organic Eatery'nin akıllı sayım sistemi, restoranın hazırlık (prep) envanterini yönetmek ve optimize etmek için geliştirilmiş yapay zeka destekli bir platformdur.</p><p><h3>Temel Özellikler:</h3></p><p>✅ <strong>Otomatik Öğrenme:</strong> Sistem zamanla alışkanlıklarınızı öğrenir
✅ <strong>Tüketim Analizi:</strong> Günlük kullanım miktarlarını takip eder
✅ <strong>Akıllı Öneriler:</strong> Ne kadar hazırlık yapmanız gerektiğini söyler
✅ <strong>Fatura Okuma:</strong> Fatura fotoğraflarını otomatik olarak analiz eder
✅ <strong>Zaman Takibi:</strong> Her ürünün en son ne zaman sayıldığını bilir</p><p><hr></p><p><h2>NASIL ÇALIŞIR?</h2></p><p><h3>1. Envanter Yönetimi</h3></p><p>Sistem 38 adet hazırlık ürününü takip eder:</p><p><strong>Örnek Ürünler:</strong>
<li>Salata Karışımı</li>
<li>Baba Ganoush</li>
<li>Spanakopita</li>
<li>Humus</li>
<li>Tzatziki</li>
<li>Dubai Çikolata</li>
<li>...ve daha fazlası</li></p><p>Her ürün için şunlar kaydedilir:
<li><strong>Mevcut Stok:</strong> Şu anda ne kadar var?</li>
<li><strong>Par Seviyesi:</strong> Kaç tane olması gerekiyor?</li>
<li><strong>Birim:</strong> CAMBRO, Container, Portion, vb.</li>
<li><strong>Son Sayım:</strong> En son ne zaman sayıldı?</li>
<li><strong>Hazırlık Süresi:</strong> Hazırlamak kaç dakika sürer?</li>
<li><strong>Raf Ömrü:</strong> Kaç saat taze kalır?</li></p><p><h3>2. Gerçek Zamanlı Güncelleme</h3></p><p>Sisteme yeni sayım girdiğinizde:
<li>✅ Mevcut stok güncellenir</li>
<li>✅ Sayım zamanı kaydedilir</li>
<li>✅ Bir önceki sayımla karşılaştırılır</li>
<li>✅ Tüketim miktarı hesaplanır</li>
<li>✅ Öneri listesi yeniden oluşturulur</li></p><p><hr></p><p><h2>AKILLI ÖĞRENME SİSTEMİ</h2></p><p><h3>1. Tüketim Öğrenme</h3></p><p>Sistem <strong>son 7 günlük</strong> verilerinizi analiz eder:</p><p><pre><code>Örnek: Humus Tüketimi
─────────────────────────
Pazartesi:  Sabah 2 → Öğle 1    (-1 kullanım)
Salı:       Sabah 2 → Öğle 0.5  (-1.5 kullanım)
Çarşamba:   Sabah 2 → Öğle 1    (-1 kullanım)
...</p><p>Ortalama Tüketim: ~1.2 CAMBRO/oturum</code></pre></p><p>Bu veri ile sistem <strong>gelecekteki ihtiyaçları tahmin eder</strong>.</p><p><h3>2. Fatura Eşleştirme Öğrenme</h3></p><p>Fatura yüklediğinizde OCR sistemi ürün isimlerini okur:</p><p><strong>İlk Sefer:</strong>
<pre><code>Fatura Yazısı: "Organic Arugula 4# Case"
Sistem: %68 benzerlik → SALAD MIX ile eşleştirildi
Siz: Elle ARUGULA olarak düzelttiniz</code></pre></p><p><strong>İkinci Sefer:</strong>
<pre><code>Fatura Yazısı: "Organic Arugula 4# Case"
Sistem: ✅ Önceki eşleşmeyi hatırladı → ARUGULA
Benzerlik: %100 (öğrenilmiş)</code></pre></p><p>Sistem <strong>her düzeltmenizi hatırlar</strong> ve bir dahaki sefere otomatik olarak doğru eşleştirir!</p><p><h3>3. Alias (Takma Ad) Sistemi</h3></p><p>Sistem, farklı fatura formatlarını aynı ürüne bağlar:</p><p><pre><code>Ürün: TZATZIKI
─────────────────────────
Öğrenilen Alternatifler:
<li>"Tzatziki Sauce"</li>
<li>"Greek Yogurt Dip"</li>
<li>"Cacik"</li>
<li>"Cucumber Yogurt Sauce"</li></p><p>Hepsi → TZATZIKI olarak tanınır</code></pre></p><p>Bu sayede <strong>hangi tedarikçiden alırsanız alın</strong>, sistem ürünü tanır!</p><p><hr></p><p><h2>GÜNLÜK SAYIM OTURUMLARI</h2></p><p>Sistem günde <strong>3 kritik sayım noktası</strong> önerir:</p><p><h3>1. 🌅 SABAH HAZIRLIK (Morning Prep)</h3>
<strong>Zaman:</strong> 08:00 - 10:00
<strong>Amaç:</strong> Gece tüketimini ölç, gün için hazırla</p><p><pre><code>Ne Yapar:
✓ Gece boyunca ne tüketildi?
✓ Bugün için ne hazırlanmalı?
✓ Öğle servisi için yeterli mi?</code></pre></p><p><h3>2. ☀️ ÖĞLEDEN SONRA HAZIRLIK (Afternoon Prep)</h3>
<strong>Zaman:</strong> 14:00 - 16:00
<strong>Amaç:</strong> Öğle tüketimini ölç, akşam için hazırla</p><p><pre><code>Ne Yapar:
✓ Öğle servisi ne kadar tüketti?
✓ Akşam servisi için ne gerekli?
✓ Hangi ürünler hızlı tükeniyor?</code></pre></p><p><h3>3. 🌙 KAPANIŞ SAYIMI (Closing Line)</h3>
<strong>Zaman:</strong> 22:00 - 23:00
<strong>Amaç:</strong> Günlük tüketimi ölç, sabah için plan yap</p><p><pre><code>Ne Yapar:
✓ Bugün toplam ne kullanıldı?
✓ Yarın sabah için ne kalıyor?
✓ Sabah ilk iş ne hazırlanmalı?</code></pre></p><p><hr></p><p><h2>TÜKETİM TAKİBİ</h2></p><p><h3>Nasıl Hesaplanır?</h3></p><p><pre><code>Tüketim = Başlangıç Sayısı - Bitiş Sayısı</p><p>Örnek:
─────────────────────────────────────
Sabah Sayımı:    2.0 CAMBRO Humus
Öğle Sayımı:     0.5 CAMBRO Humus
─────────────────────────────────────
Tüketim:         1.5 CAMBRO
Süre:            Sabah → Öğle (6 saat)
Oran:            0.25 CAMBRO/saat</code></pre></p><p><h3>7 Günlük Ortalama</h3></p><p>Sistem son 7 günü analiz eder:</p><p><pre><code>Humus Tüketim Geçmişi:
─────────────────────────────────────
Pazartesi:   1.2 CAMBRO
Salı:        1.5 CAMBRO
Çarşamba:    1.0 CAMBRO
Perşembe:    1.8 CAMBRO (yoğun gün)
Cuma:        2.0 CAMBRO (en yoğun)
Cumartesi:   1.7 CAMBRO
Pazar:       0.8 CAMBRO (sakin)
─────────────────────────────────────
Ortalama:    1.43 CAMBRO/gün</code></pre></p><p>Bu veri ile <strong>akıllı tahminler</strong> yapılır!</p><p><hr></p><p><h2>SİPARİŞ ÖNERİLERİ MANTIĞI</h2></p><p><h3>Öneri Hesaplama Formülü</h3></p><p><pre><code>if (Mevcut Stok === 0) {
  // ACIL: Stok bitti!
  Öneri = Math.max(Par Seviyesi, Ortalama Tüketim × 2)
  Öncelik = "URGENT"
}
else if (Stok Yüzdesi < 50%) {
  // YÜKSEK: Stok düşük!
  Öneri = Par Seviyesi - Mevcut Stok
  Öncelik = "HIGH PRIORITY"
}
else if (Stok Yüzdesi < 75% && Ortalama Tüketim > 0) {
  // ORTA: Stok azalıyor
  Öneri = Ortalama Tüketim × 1.5
  Öncelik = "MEDIUM PRIORITY"
}
else {
  // DÜŞÜK: Stok iyi
  Öneri = Yok
  Öncelik = "LOW PRIORITY"
}</code></pre></p><p><h3>Gerçek Hayat Örneği</h3></p><p><pre><code>Ürün: SPANAKOPITA
─────────────────────────────────────
Par Seviyesi:        20 PIECE
Mevcut Stok:         2 PIECE
Stok Yüzdesi:        10% (2/20)
Ortalama Tüketim:    8 PIECE/gün
─────────────────────────────────────
HESAPLAMA:
10% < 50% → HIGH PRIORITY
Öneri = 20 - 2 = 18 PIECE</p><p>AÇIKLAMA:
"Stok %50'nin altında (%10)"
"En az 18 adet hazırla"</code></pre></p><p><hr></p><p><h2>FATURA OCR ÖĞRENME SİSTEMİ</h2></p><p><h3>1. Fatura Yükleme</h3></p><p>Sisteme fatura fotoğrafı yüklersiniz:</p><p><pre><code>Desteklenen Formatlar:
✓ JPEG/JPG
✓ PNG
✓ Kamera ile çekilen fotoğraflar
✓ Yüklenen dosyalar</code></pre></p><p><h3>2. OCR Okuma (Tesseract.js v4)</h3></p><p>Sistem faturayı otomatik okur:</p><p><pre><code>Okunan Satırlar:
─────────────────────────────────────
2 Arugula 4# CS              12.50
1.5 Fresh Basil Bunch        8.99
3 Organic Tomatoes LB        15.75
1 Greek Yogurt 5lb           24.50
─────────────────────────────────────</code></pre></p><p><h3>3. Fuzzy Matching (Bulanık Eşleştirme)</h3></p><p>Okunan her satır için envanter taranır:</p><p><pre><code>Okunan: "Organic Tomatoes LB"
─────────────────────────────────────
Karşılaştırma:
✗ SALAD MIX          → Benzerlik: %12
✗ BABA GANOUSH       → Benzerlik: %8
✓ TOMATO WEDGED      → Benzerlik: %65
✓ TOMATO DICED       → Benzerlik: %68
─────────────────────────────────────
En İyi Eşleşme: TOMATO DICED (%68)</code></pre></p><p><h3>4. Manuel Düzeltme</h3></p><p>Eğer sistem yanlış eşleştirdiyse düzeltirsiniz:</p><p><pre><code>Sistem Önerisi: TOMATO DICED (%68)
Sizin Seçiminiz: TOMATO WEDGED</p><p>→ Sistem bunu KALICI OLARAK ÖĞRENIR!</code></pre></p><p><h3>5. Gelecek Kullanım</h3></p><p>Bir dahaki sefere aynı fatura metni gelirse:</p><p><pre><code>Okunan: "Organic Tomatoes LB"</p><p>Sistem Hafızası:
✓ Daha önce "TOMATO WEDGED" ile eşleştirilmişti
✓ Benzerlik: %100 (öğrenilmiş)
✓ Otomatik eşleştirme: TOMATO WEDGED</p><p>→ Manuel seçim gerekmez!</code></pre></p><p><h3>Öğrenme Veritabanı</h3></p><p>Sistem <code>invoice_item_aliases</code> tablosunda saklar:</p><p><pre><code>Örnek Kayıt:
─────────────────────────────────────
detected_name:     "organic tomatoes lb"
inventory_item_id: 42 (TOMATO WEDGED)
confidence:        1.0
created_by:        "Manager"
created_at:        "2025-10-11 14:32:00"</code></pre></p><p>Her düzeltme <strong>kalıcı öğrenme</strong> sağlar!</p><p><hr></p><p><h2>ÖNCELİK SEVİYELERİ</h2></p><p><h3>🔴 URGENT - Acil (Stok Bitti)</h3></p><p><pre><code>Durum:
✗ Mevcut Stok = 0
✗ Hemen hazırlanmalı!</p><p>Öneri Mantığı:
→ En az Par Seviyesi kadar hazırla
→ Veya Ortalama Tüketim × 2 (hangisi büyükse)</p><p>Görsel:
→ Siyah başlık (#212121)
→ Kırmızı "OUT" yazısı
→ Detaylı tablo görünümü</code></pre></p><p><h3>🟡 HIGH PRIORITY - Yüksek Öncelik (Stok Düşük)</h3></p><p><pre><code>Durum:
! Stok %50'nin altında
! Bugün veya yarın bitmek üzere</p><p>Öneri Mantığı:
→ Par Seviyesine tamamla
→ Öneri = Par - Mevcut Stok</p><p>Görsel:
→ Koyu gri başlık (#424242)
→ Detaylı tablo görünümü</code></pre></p><p><h3>🟢 LOW PRIORITY - Düşük Öncelik (Stok İyi)</h3></p><p><pre><code>Durum:
✓ Stok %75'in üzerinde
✓ Şimdilik hazırlamaya gerek yok</p><p>Öneri Mantığı:
→ Öneri yok
→ Sadece takip amaçlı</p><p>Görsel:
→ Kompakt liste görünümü
→ Sadece "Ürün Adı (75%)" formatı
→ 3 sütun düzeni (yer tasarrufu)</code></pre></p><p><hr></p><p><h2>ZAMAN FORMATI</h2></p><p>Sistem <strong>hassas zaman takibi</strong> yapar:</p><p><pre><code>< 1 saat:
→ "32m ago" (dakika bazlı)</p><p>1-24 saat:
→ "1hr and 32m ago" (saat + dakika)
→ "4hr and 15m ago"
→ "6hr ago" (tam saat)</p><p>1-7 gün:
→ "3d ago" (gün bazlı)</p><p>7+ gün:
→ "10/09/25" (tarih formatı)</code></pre></p><p>Bu sayede <strong>tam olarak ne zaman</strong> sayıldığını bilirsiniz!</p><p><hr></p><p><h2>YAZDIRMA VE PDF</h2></p><p><h3>Ekran Görünümü = PDF Görünümü</h3></p><p>Sistem <strong>tüm cihazlarda aynı görünümü</strong> sağlar:</p><p><strong>Renk Şeması:</strong>
<li>⚫ Gri tonları (profesyonel)</li>
<li>🔵 Mavi vurgu (Jayna logosu rengi)</li>
<li>🔴 Kırmızı sadece OUT ürünler için</li>
<li>⚪ Keskin köşeler (modern tasarım)</li></p><p><strong>Kompakt Düzen:</strong>
<li>1-2 sayfa (eskiden 3+ sayfa)</li>
<li>Küçük fontlar (7-16pt arası)</li>
<li>Yer tasarrufu (%70 azaltma)</li>
<li>Mobil uyumlu</li></p><p><hr></p><p><h2>GÜÇLÜ YÖNLER</h2></p><p><h3>1. Otomatik Öğrenme</h3>
✅ Her gün daha akıllı olur
✅ Alışkanlıklarınızı tanır
✅ Tahminler zamanla daha doğru</p><p><h3>2. Zaman Tasarrufu</h3>
✅ Fatura okuma otomatik
✅ Öneriler hazır
✅ Manuel hesaplama yok</p><p><h3>3. İsraf Önleme</h3>
✅ Ne kadar gerektiğini tam bilir
✅ Fazla hazırlık yapmaz
✅ Eksik kalma riski düşer</p><p><h3>4. Kolay Kullanım</h3>
✅ Fotoğraf çek, sistem okusun
✅ Bir tıkla güncelle
✅ Anında rapor al</p><p><h3>5. Mobil Uyumlu</h3>
✅ Telefondan kullan
✅ Mutfakta tablet ile çalış
✅ Her cihazdan erişim</p><p><hr></p><p><h2>NASIL KULLANILIR?</h2></p><p><h3>Günlük Akış:</h3></p><p><strong>SABAH (08:00):</strong>
<pre><code>1. "PREP" sekmesine git
<li>"Count Session: Morning Prep" seç</li>
<li>Her ürünü say ve güncelle</li>
<li>"REFRESH PREP SHEET" tıkla</li>
<li>URGENT ve HIGH PRIORITY'yi hazırla</code></pre></li></p><p><strong>ÖĞLE (14:00):</strong>
<pre><code>1. "Count Session: Afternoon Prep" seç
<li>Tekrar say ve güncelle</li>
<li>Tüketim otomatik hesaplanır</li>
<li>Akşam için önerileri kontrol et</code></pre></li></p><p><strong>AKŞAM (22:00):</strong>
<pre><code>1. "Count Session: Closing Line" seç
<li>Son sayımı yap</li>
<li>Yarın sabah için önerileri gör</li>
<li>PDF veya PRINT ile çıktı al</code></pre></li></p><p><hr></p><p><h2>TEKNİK DETAYLAR</h2></p><p><h3>Veritabanı Yapısı:</h3></p><p><strong>inventory_items</strong> (Envanter)
<pre><code>- id (unique)
<li>item_name (ürün adı)</li>
<li>vendor (tedarikçi)</li>
<li>unit (birim)</li>
<li>current_stock (mevcut stok)</li>
<li>par_level (par seviyesi)</li>
<li>item_type ('prep' veya 'ingredient')</li>
<li>prep_time_minutes (hazırlık süresi)</li>
<li>batch_lifespan_hours (raf ömrü)</li>
<li>last_counted_date (son sayım tarihi)</code></pre></li></p><p><strong>prep_consumption_log</strong> (Tüketim Geçmişi)
<pre><code>- item_id (ürün referansı)
<li>count_date (tarih)</li>
<li>from_session (nereden)</li>
<li>to_session (nereye)</li>
<li>starting_count (başlangıç)</li>
<li>ending_count (bitiş)</li>
<li>consumption_amount (tüketim)</code></pre></li></p><p><strong>invoice_item_aliases</strong> (Öğrenilmiş Eşleşmeler)
<pre><code>- detected_name (faturadaki isim)
<li>inventory_item_id (envanter ürünü)</li>
<li>confidence (güven skoru)</li>
<li>created_by (kim oluşturdu)</code></pre></li></p><p><hr></p><p><h2>SONUÇ</h2></p><p>Bu sistem <strong>sürekli öğrenen, akıllandıkça gelişen</strong> bir envanter yönetim platformudur.</p><p><h3>Ana Avantajlar:</h3></p><p><li>✅ <strong>Otomatik:</strong> Minimum manuel işlem</li>
<li>✅ <strong>Akıllı:</strong> Zamanla daha iyi tahminler</li>
<li>✅ <strong>Verimli:</strong> İsraf ve eksiklik önleme</li>
<li>✅ <strong>Kolay:</strong> Basit arayüz, hızlı kullanım</li>
<li>✅ <strong>Güvenilir:</strong> Her sayım kaydedilir</li></p><p><h3>Gelecek Geliştirmeler:</h3></p><p><li>📊 Grafiklerle tüketim analizi</li>
<li>🤖 Daha gelişmiş AI tahminleri</li>
<li>📱 Mobil uygulama</li>
<li>🔔 Otomatik uyarılar</li>
<li>📧 Email raporları</li></p><p><hr></p><p><strong>Oluşturan:</strong> Claude Code
<strong>Versiyon:</strong> 6.1+
<strong>Tarih:</strong> 11 Ekim 2025
<strong>Restoran:</strong> Jayna Organic Eatery
<strong>Konum:</strong> Sacramento, CA</p><p><hr></p><p><h2>İLETİŞİM</h2></p><p>Sorularınız için:
<li>Sistem yöneticisine başvurun</li>
<li>Manager Dashboard'dan raporları inceleyin</li>
<li>PROCESS_LOG.md dosyasını kontrol edin</li></p><p><strong>Başarılı hazırlıklar! 🎯</strong>

    
    <div class="footer">
        <p><strong>Jayna Organic Eatery</strong> | Sacramento, CA</p>
        <p>Akıllı Sayım ve Hazırlık Sistemi v6.1+</p>
        <p>© 2025 - Tüm hakları saklıdır</p>
    </div>
</body>
</html>